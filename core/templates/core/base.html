{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}RemDesk | Smarter Global Hiring{% endblock %}</title>

    <!-- Meta Tags -->
    <meta name="description"
        content="RemDesk helps companies build global remote teams with verified talent from India. Smarter, simpler, scalable.">
    <meta name="keywords" content="remote hiring, global talent, indian developers, staff augmentation">
    <meta name="author" content="RemDesk Inc.">

    <!-- Preload Critical Assets -->
    <link rel="preload" href="{% static 'core/css/style.css' %}?v=8.0" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}?v=8.0">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'core/images/favicon/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'core/images/favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'core/images/favicon/favicon-16x16.png' %}">
    <link rel="icon" href="{% static 'core/images/favicon/favicon.ico' %}" type="image/x-icon">

    <!-- Vercel Web Analytics -->
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</head>

<body>

    <!-- Header -->
    <header id="main-header">
        <div class="container">
            <nav>
                <a href="{% url 'index' %}" class="logo">Rem<span>Desk</span></a>

                <ul class="nav-links">
                    <li>
                        <a href="{% url 'services' %}">
                            Services
                        </a>
                    </li>
                    <li><a href="{% url 'how_it_works' %}">How It Works</a></li>
                    <li><a href="{% url 'pricing' %}">Pricing</a></li>
                    <li><a href="{% url 'about' %}">About Us</a></li>
                    <li><a href="{% url 'careers' %}" style="color: var(--primary); font-weight: 600;">Join Us</a></li>
                </ul>

                <div class="nav-actions">
                    {% if user.is_authenticated %}
                    <a href="{% url 'profile_dashboard' %}" class="btn btn-primary"
                        style="margin-right: 0.5rem; padding: 0.5rem 1.2rem;">My Profile</a>
                    <a href="{% url 'account_logout' %}" class="btn btn-outline" style="border: none;">Logout</a>
                    {% else %}
                    <a href="{% url 'account_login' %}" class="btn btn-outline" style="border: none;">Login</a>
                    <a href="{% url 'account_signup' %}" class="btn btn-primary btn-pulse">Sign Up</a>
                    {% endif %}
                </div>

                <!-- Mobile Toggle -->
                <div class="mobile-toggle" id="mobile-menu-open">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <script nonce="{{ request.csp_nonce }}">
        // Scroll Effect
        window.addEventListener('scroll', function () {
            const header = document.getElementById('main-header');
            if (window.scrollY > 20) {
                header.classList.add('header-scrolled');
            } else {
                header.classList.remove('header-scrolled');
            }
        });
    </script>

    <!-- Messages -->
    {% if messages %}
    <div class="container"
        style="position: fixed; top: 100px; right: 20px; z-index: 2000; width: auto; max-width: 400px;">
        {% for message in messages %}
        <div class="alert {% if message.tags == 'success' %}alert-success{% else %}alert-error{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Main Content -->
    <main>
        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer>
        <!-- Infinite Scroll Marquee -->
        <div class="marquee-container">
            <div class="marquee-content">
                <span class="marquee-item"><i class="fab fa-python"></i> Python</span>
                <span class="marquee-item"><i class="fab fa-react"></i> React</span>
                <span class="marquee-item"><i class="fab fa-aws"></i> AWS</span>
                <span class="marquee-item"><i class="fab fa-node"></i> Node.js</span>
                <span class="marquee-item"><i class="fas fa-database"></i> SQL</span>
                <span class="marquee-item"><i class="fab fa-docker"></i> DevOps</span>
                <span class="marquee-item"><i class="fas fa-mobile-alt"></i> Flutter</span>
                <span class="marquee-item"><i class="fab fa-js"></i> TypeScript</span>
                <!-- Duplicate for seamless loop -->
                <span class="marquee-item"><i class="fab fa-python"></i> Python</span>
                <span class="marquee-item"><i class="fab fa-react"></i> React</span>
                <span class="marquee-item"><i class="fab fa-aws"></i> AWS</span>
                <span class="marquee-item"><i class="fab fa-node"></i> Node.js</span>
                <span class="marquee-item"><i class="fas fa-database"></i> SQL</span>
                <span class="marquee-item"><i class="fab fa-docker"></i> DevOps</span>
                <span class="marquee-item"><i class="fas fa-mobile-alt"></i> Flutter</span>
                <span class="marquee-item"><i class="fab fa-js"></i> TypeScript</span>
            </div>
        </div>

        <div class="container footer-container">
            <div class="footer-cta text-center mb-5">
                <h2 class="display-3" style="color: white; margin-bottom: 2rem;">Ready to scale?</h2>
                <a href="{% url 'contact' %}" class="btn btn-primary"
                    style="padding: 1rem 2.5rem; font-size: 1.1rem;">Get Your Shortlist</a>
            </div>

            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="#" class="logo"
                        style="color: white; font-size: 2rem; margin-bottom: 1rem; display: block;">Rem<span>Desk</span></a>
                    <p style="opacity: 0.7; max-width: 250px;">Redefining remote hiring with data-driven vetting and
                        global compliance.</p>
                </div>

                <div class="footer-col">
                    <h4>Explore</h4>
                    <ul>
                        <li><a href="{% url 'services' %}">Services</a></li>
                        <li><a href="{% url 'pricing' %}">Pricing</a></li>
                        <li><a href="{% url 'how_it_works' %}">Process</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="{% url 'about' %}">About</a></li>
                        <li><a href="{% url 'careers' %}">Careers</a></li>
                        <li><a href="{% url 'contact' %}">Contact</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="mailto:admin@remdeskjobs.com">admin@remdeskjobs.com</a></li>
                        <li><a href="https://www.linkedin.com/company/remdesk/" target="_blank">LinkedIn</a></li>

                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                &copy; {% now "Y" %} RemDesk Inc. &bull; <a href="#">Privacy</a> &bull; <a href="#">Terms</a>
            </div>
        </div>
    </footer>

    <!-- Mobile Menu Drawer -->
    <div id="mobile-menu-drawer" class="mobile-menu-drawer">
        <div class="mobile-menu-header">
            <a href="{% url 'index' %}" class="logo">Rem<span>Desk</span></a>
            <button class="mobile-menu-close" id="mobile-menu-close"><i class="fas fa-times"></i></button>
        </div>
        <ul class="mobile-nav-links">
            <li><a href="{% url 'services' %}">Services</a></li>
            <li><a href="{% url 'how_it_works' %}">How It Works</a></li>
            <li><a href="{% url 'pricing' %}">Pricing</a></li>
            <li><a href="{% url 'about' %}">About Us</a></li>
            <li><a href="{% url 'careers' %}">Join Us</a></li>
        </ul>
        <div class="mobile-nav-actions">
            {% if user.is_authenticated %}
            <a href="{% url 'profile_dashboard' %}" class="btn btn-primary" style="margin-bottom: 0.5rem;">My
                Profile</a>
            <a href="{% url 'account_logout' %}" class="btn btn-outline">Logout</a>
            {% else %}
            <a href="{% url 'account_login' %}" class="btn btn-outline">Login</a>
            <a href="{% url 'account_signup' %}" class="btn btn-primary">Sign Up</a>
            {% endif %}
        </div>
    </div>
    <div id="mobile-menu-overlay" class="mobile-menu-overlay"></div>

    <!-- Mobile Menu Script -->
    <script nonce="{{ request.csp_nonce }}">
        document.addEventListener('DOMContentLoaded', function () {
            const openBtn = document.getElementById('mobile-menu-open');
            const closeBtn = document.getElementById('mobile-menu-close');
            const overlay = document.getElementById('mobile-menu-overlay');
            const drawer = document.getElementById('mobile-menu-drawer');
            const body = document.body;

            function toggleMenu() {
                drawer.classList.toggle('active');
                overlay.classList.toggle('active');
                body.classList.toggle('no-scroll');
            }

            if (openBtn) openBtn.addEventListener('click', toggleMenu);
            if (closeBtn) closeBtn.addEventListener('click', toggleMenu);
            if (overlay) overlay.addEventListener('click', toggleMenu);
        });

        // Auto-dismiss messages
        setTimeout(function () {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                alert.style.opacity = '0';
                setTimeout(() => alert.remove(), 500);
            });
        }, 5000);
    </script>


    <!-- Vercel Speed Insights -->
    <script defer src="/_vercel/speed-insights/script.js" nonce="{{ request.csp_nonce }}"></script>
</body>

</html>